---
// src/components/progress-bar.astro
import "nprogress/nprogress.css";
---

<script is:inline>
  let nprogress;

  (async () => {
    const { default: NProgress } = await import("nprogress");
    nprogress = NProgress.configure({ showSpinner: false });
  })();

  document.addEventListener("astro:before-nav", () => {
    nprogress?.start();
  });

  document.addEventListener("astro:after-nav", () => {
    nprogress?.done();
  });
</script>

<style is:global>
  #nprogress {
    pointer-events: none;
  }

  #nprogress .bar {
    background: hsl(var(--primary));
    position: fixed;
    z-index: 1031;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
  }
</style>