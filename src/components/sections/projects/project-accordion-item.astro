---
import type { CollectionEntry } from "astro:content";
import { ProjectAccordion } from "./ProjectAccordion";
import { NestedProjectAccordion } from "./NestedProjectAccordion";
import { Marked } from 'marked';

interface Props {
  project: CollectionEntry<"projects">;
}

const { project } = Astro.props;

const renderedContent = new Marked().parse(project.body);
---

{project.data.name === "Introduction to C" ? (
  <NestedProjectAccordion client:load project={project} />
) : (
  <ProjectAccordion client:load project={project} renderedContent={renderedContent} />
)}