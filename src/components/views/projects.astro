---
import Pattern from "@/components/ui/pattern.astro";
import Box from "@/components/box/index.astro";
import BoxHeader from "@/components/box/header.astro";
import BoxTitle from "@/components/box/title.astro";
import BoxContent from "@/components/box/content.astro";
import { getCollection } from "astro:content";
import ProjectAccordionItem from "@/components/sections/projects/project-accordion-item.astro";

const projects = await getCollection("projects");
---

<div id="projects-view" class="hidden">
  <Pattern className="h-14" />

  {/* Introduction Section */}
  <Box>
    <BoxHeader>
      <BoxTitle>My Approach to Projects</BoxTitle>
    </BoxHeader>
    <BoxContent>
      <div class="prose">
        <p>
          My approach to software engineering is driven by a passion for continuous learning. I believe a developer's true value lies not in the tools they already know, but in their ability to master the <em>next</em> tool required to solve a new challenge.
        </p>
        <p>
          The projects below are a chronicle of this philosophy in action. They showcase my journey across different programming paradigms and problem domainsâ€”from the low-level memory management of <strong>C</strong>, to the high-level data processing of <strong>Python</strong> and <strong>SQL</strong>, to the robust object-oriented architecture of <strong>Java</strong>. Each technology listed is evidence of a new concept learned and a new problem solved.
        </p>
        <p>
          While you can explore these projects to see the technologies I've mastered, it's my passion for continuously expanding this list that truly defines my approach as an engineer.
        </p>
      </div>
    </BoxContent>
  </Box>

  <Pattern />

  {/* Search Bar */}
  <div class="my-8 flex w-full justify-center px-4 md:border-x">
    <input
      type="text"
      id="project-search-bar"
      placeholder="Search projects by name, technology, etc..."
      class="w-full max-w-lg rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"
    />
  </div>

  <Pattern />

  {/* Projects List */}
  <Box>
    <div id="projects-list" class="flex w-full flex-col">
      {projects.map(item => <ProjectAccordionItem project={item} />)}
    </div>
    <div id="no-results-message" class="hidden p-4 text-center text-muted-foreground">
      No Projects Found
    </div>
  </Box>
  <Pattern />
</div>