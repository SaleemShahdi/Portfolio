---
import Pattern from "@/components/ui/pattern.astro";
import Box from "@/components/box/index.astro";
import { getCollection } from "astro:content";
import ProjectAccordionItem from "@/components/sections/projects/project-accordion-item.astro";

const projects = await getCollection("projects");
---

<div id="projects-view" class="hidden">
  <div class="my-8 flex w-full justify-center px-4 md:border-x">
    <input
      type="text"
      id="project-search-bar"
      placeholder="Search projects by name, technology, etc..."
      class="w-full max-w-lg rounded-md border border-gray-300 px-4 py-2 text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"
    />
  </div>

  <Pattern />
  <Box>
    <div id="projects-list" class="flex w-full flex-col">
      {projects.map(item => <ProjectAccordionItem project={item} />)}
    </div>
    <div id="no-results-message" class="hidden p-4 text-center text-muted-foreground">
      No Projects Found
    </div>
  </Box>
  <Pattern />
</div>