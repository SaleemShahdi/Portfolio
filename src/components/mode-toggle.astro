---
import { Moon, Sun } from "lucide-react";
import { cn, buttonVariants } from "@/lib/utils";
---

<button
  id="theme-toggle"
  type="button"
  class={cn(
    buttonVariants({ size: "icon", variant: "ghost" }),
    "rounded-full hover:bg-secondary cursor-pointer"
  )}
>
  <Sun
    id="sun-icon"
    className="h-[1.1rem] w-[1.1rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90"
  />
  <Moon
    id="moon-icon"
    className="absolute h-[1.1rem] w-[1.1rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0"
  />
  <span class="sr-only">Toggle theme</span>
</button>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const toggleButton = document.getElementById("theme-toggle");

    if (toggleButton) {
      toggleButton.addEventListener("click", () => {
        const isDarkMode = document.documentElement.classList.toggle("dark");
        localStorage.setItem("theme", isDarkMode ? "dark" : "light");
      });
    }
  });
</script>